---
title: "The PDF problem"
author: "Sarah Cohen"
date: today
format: 
  revealjs:
    slide-number: c/t
    width: 1600
    height: 900
#    logo: "https://www.rstudio.com/wp-content/uploads/2018/10/RStudio-Logo-Flat.png"
    footer: "[tldr from the Cronkite textbook](../advanced-pdf.qmd)"
    theme: ["simple", "styles.scss"]
    echo: true
    code-link: true
    show-notes: true
#    title-slide-attributes:
#      data-background-color: "#447099"
    template-partials: 
       - title-slide.html
---

## PDFs and public records {.smaller}

-   No data is born in PDFs. They have to be created from other sources - scanned documents, printed from spreadsheets, or created as reports.

-   Government will frequently give you pdf's instead of Excel or other raw data forms, sometimes out of ignorance and sometimes to thwart you.

-   Each pdf is unique. Most are sad.

-   You will need a tool to work with them.

-   ALWAYS request another format (plain text, Excel, etc) and request again if you get one. Some public records laws require agencies provide you the original data, not the data converted to PDF form.

![](img/pdf-adobe.png)


## Strategy {.smaller}

### Image pdfs

-   Images come from scanned or handwritten documents. They're just pictures.
-   If you can't select any text, it's an image.
-   You'll need OCR software to deal with it, and it won't be pretty

### Text pdfs

-   Most printed reports and many other documents were created by "Print to PDF". The underlying text still exists. It's a little better than pixels.
-   They have formatting and nested lines that can make working with the data difficult.

### Ask yourself

-   Do I need it in data form? Would searching it in Pinpoint or DocumentCloud work just as well for my project?
-   Might it be easier or cheaper to re-type it?
-   Can I get it another way, such as scraping a website?

## A simple example

::: panel-tabset
### The report

![ATF Firearms Commerce report, 2021](img/pdf-firearms-simple.png)

### What you want

![Extracted to Excel](img/pdf-simple.png)
:::

## A harder example

We'll be using this example as our test for the tools

::: panel-tabset
### What you have

![](img/origreport.png)

### What you want

![](img/pdf-converted.png)
:::

## A really hard example {.smaller}

![](../assets/images/advanced-pdf-azdpsform.png)

This is a job for something other than a simple PDF converter. Instead, you'll need to program it or use a different kind of tool. Google Pinpoint's Table Extractor looks promising for this.



